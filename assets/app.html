<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="stylesheet.css" rel="stylesheet">
  <title>Translator</title>
</head>

<body class="bg-[#222222] h-screen w-screen flex flex-col items-center">
  <h1 class="text-[#c9c4f8] text-3xl font-bold underline mb-5 mt-5">
    Translator
  </h1>

  <div>
    <button onclick="openNewDictionary()" class="px-4 pb-1 hover:text-[#c9c4f8] transition-colors duration-300">
      Новий словник
    </button>

    <div class="inline-flex items-center relative bg-[#222222] px-4 pb-1 hover:text-[#c9c4f8] transition-colors duration-300">
        <select id="dictionaries" onchange="loadDictionary(this.value)" class="pointer bg-transparent w-20 focus:outline-none"></select>

        <svg id="arrow-icon" class="absolute right-2 w-4 h-4 ml-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7" />
        </svg>
    </div>

    <button onclick="openEditor()" class="ml-2 px-4 pb-1 hover:text-[#c9c4f8] transition-colors duration-300">
      Редагувати
    </button>

    <button onclick="translateFile()" class="ml-2 px-4 pb-1 hover:text-[#c9c4f8] transition-colors duration-300">
      Перекласти файл
    </button>

    <button onclick="openInfo()" class="ml-2 px-4 pb-1 hover:text-[#c9c4f8] transition-colors duration-300">
      Про застосунок
    </button>
  </div>

  <div class="relative grid grid-cols-2 grid-rows-1 w-[1200px] h-[200px] font-sans mt-5 half:grid-cols-1 half:grid-rows-2 half:w-screen half:px-5 game">
    <textarea class="bg-[#2a2a2a] p-4 text-xl rounded-l-xl resize-none focus:outline-none half:rounded-none half:rounded-t-lg"
              placeholder="Уведіть будь що ☺️"
              onkeyup="inputCounter.innerText = process(this.value)"
              onkeydown="inputCounter.innerText = this.value.length"></textarea>

    <span id="input-counter" class="character-counter -translate-x-[615px] bottom-2 font-semibold select-none half:bottom-[108px] half:-translate-x-[30px] "></span>

    <textarea id="result"
              class="bg-[#5a5a5a] p-4 text-xl rounded-r-xl resize-none focus:outline-none half:rounded-lg half:rounded-t-none text-white"
              disabled></textarea>

    <span id="result-counter" class="character-counter -translate-x-[16px] bottom-2 font-semibold select-none half:-translate-x-[30px]"></span>

    <button class="absolute top-2 right-2 p-2 hover:bg-[#3a3a3a] rounded-lg half:top-28 half:right-7" onclick="copy(result.value)">
      <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="9.37 9.37 486.63 486.63">
        <rect x="128" y="128" width="336" height="336" rx="57" ry="57" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32" />
        <path d="M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" />
      </svg>
    </button>
  </div>
</body>

<script>
  const result = document.getElementById('result');
  const dictionaries = document.getElementById('dictionaries');
  const inputCounter = document.getElementById('input-counter');
  const resultCounter = document.getElementById('result-counter');

  function addDictionaryOption(name) {
    const option = document.createElement('option');
    option.value = name;
    option.innerText = name.match(/.*[\/\\](.*)\.\w+$/)[1];
    dictionaries.add(option);
  }
</script>
